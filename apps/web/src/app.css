/* Base styles - most styling comes from rpl-cloned CSS */
/* Only minimal overrides here if needed */

/* Fix scrolling - override body overflow hidden from computed.css */
body {
  overflow: auto !important;
}

/* Hide Material Symbols icon text content completely */
.rpf-button__icon.material-symbols-sharp {
  font-size: 0 !important;
  line-height: 0 !important;
  width: 24px;
  height: 24px;
  display: inline-block;
  position: relative;
  overflow: hidden;
  text-indent: -9999px;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Show icon using ::before pseudo-element with SVG arrow */
.rpf-button__icon.material-symbols-sharp::before {
  content: "";
  position: absolute;
  left: 0;
  top: 0;
  width: 24px;
  height: 24px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z' fill='%23ffffff'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  text-indent: 0;
}

/* Override for right chevron */
.c-project-step-navigation__link--next .rpf-button__icon.material-symbols-sharp::before {
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z' fill='%23ffffff'/%3E%3C/svg%3E");
}

/* Code block dark background - override light background from computed.css */
pre[class*="language-"]:not(.scratchblocks) {
  background: #2d2d2d !important;
  color: #f8f8f2 !important;
  border-radius: 0.3em;
  padding: 1em;
  margin: 0.5em 0;
  overflow: auto;
}

/* Scratch blocks should have transparent/white background */
pre.scratchblocks,
pre.language-blocks3 {
  background: transparent !important;
  padding: 0 !important;
  color: inherit !important;
}

/* Ensure scratchblocks SVG containers have proper styling */
.scratchblocks svg {
  display: block;
}

/* Ensure code inside pre also has dark background */
pre[class*="language-"]:not(.scratchblocks) code {
  background: transparent !important;
  color: inherit !important;
}

/* Inline code should keep light background */
:not(pre) > code[class*="language-"] {
  background: rgb(245, 242, 240) !important;
  color: inherit;
}

/* Ensure sidebar stays sticky and doesn't scroll out of view */
@media (width > 62.5rem) {
  .c-sidebar {
    position: sticky !important;
    top: 0 !important;
    align-self: flex-start !important;
    max-height: 100vh;
    overflow-y: auto;
  }
}

/* Ensure iframes are visible - override general iframe { display: none; } rule */
/* 
 * Note: The cookie consent CSS rules (lines 2610-2612 in computed.css) that were hiding
 * all iframes have been removed. The original site only applies those rules to specific
 * cookie consent tracking iframes via JavaScript, not globally.
 * 
 * We still need these overrides for:
 * - Line 1303: iframe { display: none; } - inside @media print (only applies when printing)
 * - Ensuring content iframes are visible with proper positioning
 */
.c-project-steps__content iframe,
.c-project__step-content iframe,
.scratch-preview iframe,
.c-wysiwyg-new iframe,
div.scratch-preview iframe,
.c-project-steps__content .scratch-preview iframe,
.c-project__step-content .scratch-preview iframe,
.c-wysiwyg-new .scratch-preview iframe {
  display: block !important;
  visibility: visible !important;
  position: static !important;
  /* Don't override width/height - let HTML attributes work */
  /* But override min/max constraints that might interfere */
  min-width: 0 !important;
  min-height: 0 !important;
  max-width: 100% !important;
  max-height: none !important;
  top: auto !important;
  left: auto !important;
  margin: 0 auto var(--space-3) !important;
}

/* Also ensure scratch-preview container is visible */
.scratch-preview,
.c-project-steps__content .scratch-preview,
.c-project__step-content .scratch-preview,
.c-wysiwyg-new .scratch-preview {
  display: block !important;
  visibility: visible !important;
}

/* Quiz feedback visibility - ensure feedback items are shown when --show class is added */
/* The computed.css has two rules that hide feedback:
 * 1. .knowledge-quiz-question__feedback-item { display: none; } - hides all items by default (line 1721)
 * 2. .knowledge-quiz-question--unanswered .knowledge-quiz-question__feedback { display: none; } - hides container (line 1720)
 */
/* Override both with higher specificity and !important */
/* Use multiple selectors to ensure we override the base rule */
/* Note: The class name uses double dash: --show (BEM notation) */
.knowledge-quiz-question__feedback-item--show,
.knowledge-quiz-question .knowledge-quiz-question__feedback-item--show,
.knowledge-quiz-question--unanswered .knowledge-quiz-question__feedback-item--show,
li.knowledge-quiz-question__feedback-item--show,
.knowledge-quiz-question__feedback-item.knowledge-quiz-question__feedback-item--show {
  display: list-item !important;
  visibility: visible !important;
}

/* Ensure feedback container (<ul>) is visible when feedback is shown (even if question is still marked unanswered) */
/* The feedback container is a <ul> with class "knowledge-quiz-question__feedback" */
/* Use higher specificity to override the .knowledge-quiz-question--unanswered rule */
.knowledge-quiz-question--unanswered ul.knowledge-quiz-question__feedback:has(.knowledge-quiz-question__feedback-item--show),
ul.knowledge-quiz-question__feedback:has(.knowledge-quiz-question__feedback-item--show),
.knowledge-quiz-question--unanswered .knowledge-quiz-question__feedback:has(.knowledge-quiz-question__feedback-item--show) {
  display: block !important;
}

/* Nuclear option: override ALL iframe rules in content areas */
/* Note: Don't override width/height so iframe attributes are respected */
.c-project__content iframe,
.c-project-steps iframe,
#skiptocontent iframe {
  display: block !important;
  visibility: visible !important;
  position: static !important;
  top: auto !important;
  left: auto !important;
}

/* Hide quiz questions that are not yet active (progressive disclosure) */
/* Use higher specificity to override any computed.css rules */
form.knowledge-quiz-question.knowledge-quiz-question--hidden,
.knowledge-quiz-question.knowledge-quiz-question--hidden {
  display: none !important;
  visibility: hidden !important;
}

/* Quiz feedback is handled by CSS in computed.css */
/* The --unanswered class hides feedback, and --show class on feedback-item shows it */

/* Quiz check button styling - matches computed.css */
/* The button styles are already in computed.css for .knowledge-quiz input[type="button"] */
/* We just need to ensure the button is inside a .knowledge-quiz container */
/* The parser already generates the button inside .knowledge-quiz-question, so we need to add .knowledge-quiz class */
