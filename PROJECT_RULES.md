# Project Rules & Skills (Generated by Severin)

Diese Regeln und Skills werden automatisch aus der Severin Test-Suite generiert. Sie dienen als direkte Arbeitsanweisung f√ºr Entwickler und KI-Agenten.

## üß† Agent Skills

### Backend Architekt
- **Rule**: Keine Frontend-Implementierung darf beginnen, bevor die ben√∂tigten API-Endpunkte spezifiziert und via RSpec getestet wurden.
- **Rule**: TDD strikt befolgen. Tests vor der Implementierung schreiben.
- **Rule**: Nutze Conventional Commits f√ºr alle Backend-√Ñnderungen.

### Frontend Experte
- **Guideline**: Svelte 5 Runes ($state, $derived, $props, $effect). Legacy-Stores in Komponenten sind unerw√ºnscht.
- **Guideline**: Svelte Autofixer nach jeder √Ñnderung nutzen.
- **Guideline**: Minimalismus-Prinzip: Kurze Antworten, minimaler Code.
- **Rule**: Verwende ausschlie√ülich Svelte 5 Runes.
- **Rule**: Nutze nach jeder √Ñnderung das svelte-autofixer Tool.

## ‚ö° Verf√ºgbare Automatisierungen (Actions)

Die folgenden Aktionen sind als MCP-Tools (Pr√§fix `sv_`) oder via `sv call <name>` verf√ºgbar:

### commit
- **Zweck**: F√ºhrt einen orchestrierten Projekt-Commit aus (Generierung, Integrit√§ts-Checks und Git-Commit).
- **Anwendung**: Nutze das MCP-Tool `sv_commit`.
- **Anleitung**: 1. Nutze dieses Tool f√ºr ALLE Projekt-Commits. Es stellt sicher, dass Dokumentation und Regeln synchron sind. 2. Die Commit-Nachricht MUSS Conventional Commits entsprechen. 3. Das Tool f√ºhrt automatisch `sv gen` und `sv check` aus. Falls diese fehlschlagen, wird der Commit abgebrochen. 

### commit-engine
- **Zweck**: Commitet √Ñnderungen in der Severin-Engine (Symlink severin/engine -> ~/.severin).
- **Anwendung**: Nutze das MCP-Tool `sv_commit_engine`.
- **Anleitung**: 1. Nutze dieses Tool, wenn du Dateien unter `severin/engine/` ge√§ndert hast. 2. Die Commit-Nachricht MUSS den 'feat:' oder 'fix:' Pr√§fix nach Conventional Commits enthalten. 3. Beziehe dich in der Nachricht auf die ge√§nderte Komponente (z.B. `feat(cli): ...`). 

## ‚öñÔ∏è Verpflichtender Workflow

### Agent-Anleitungen & Engine
- **Agent-Anleitungen via Severin**: Alle Anleitungen f√ºr KI-Agenten m√ºssen √ºber das Severin-Framework in 'severin/rules/' definiert werden.
- **Severin Engine Development Workflow**: ### üê∫ Severin Engine Development
Wenn du die Severin-Engine (unter `severin/engine/`) bearbeitest, folge diesem Workflow:
1. Entwicklung direkt im Pfad `severin/engine/` (Symlink oder Submodule).
2. Validierung mit `ruby severin/runner.rb --help` und `ruby severin/runner.rb check`.
3. Commits direkt im Pfad `severin/engine/` mit Conventional Commits.
4. Du darfst Code in `severin/engine/` ohne zus√§tzliche Best√§tigung des Nutzers √§ndern.


### Branch Gesundheit & Cleanup
- **Fokus & Umfang**: Ein Branch sollte nicht zu viele uncommittete √Ñnderungen ansammeln.
- **Keine tempor√§ren Dateien**: Backup-Dateien (*.bak.md) und tempor√§re Artefakte d√ºrfen nicht committet werden.
- **Synchronit√§t der Regeln**: Die lokalen Projektregeln m√ºssen mit dem Severin-Code √ºbereinstimmen.
- **Plan-Aktualit√§t**: Das Brain-Dokument muss den aktuellen Fortschritt widerspiegeln.

### Dokumentations-Integrit√§t
- **Cursorrules Platzhalter-Freiheit**: Die .cursorrules d√ºrfen keine unersetzten Ruby-Platzhalter wie #{name} enthalten.
- **Projekt-Regeln Formatierung**: Die PROJECT_RULES.md muss eine g√ºltige Markdown-Struktur haben.
- **Keine veralteten Pfade in Regeln**: Die PROJECT_RULES.md darf keine Verweise auf das alte 'sentinel/' Verzeichnis f√ºr Severin-Checks enthalten.

### Sprach-Integrit√§t
- **Sprachanweisung in AI-Umgebungen**: Jede AI-Umgebung (.cursorrules) muss explizit zwischen Konversations- und Dokumentationssprache unterscheiden.

### MCP Integrit√§t
- **Globale Engine vorhanden**: Der MCP-Server muss unter /home/toka/.severin/mcp/server.rb existieren.
- **MCP Ausf√ºhrbarkeit**: Der MCP-Server muss vom System geladen werden k√∂nnen.
- **Cursor Integration Hinweis**: Der MCP-Server sollte in den Cursor Settings als 'command' Server registriert sein.

### Self-Documentation Workflow
- **Dokumentation der Generierung**: Jede registrierte Umgebung (via define_environment) muss den Befehl 'sv' zur Neu-Generierung erw√§hnen.

### Workcycle & Git Regeln
- **Feature Branch**: Code NIEMALS ohne einen Feature-Branch (feature/name) erstellen. Direkte Commits auf main sind verboten.
- **Brain Document (Implementierungsplan)**: VOR der Implementierung IMMER einen Plan in docs/brain/YYYY-MM-DD-feature-name.md committen.
- **Sprach-Konsistenz (Deutsch)**: Alle Regeln und Skill-Beschreibungen in Severin m√ºssen auf Deutsch verfasst sein.
- **Sauberer Workspace f√ºr Core-Dateien**: Wichtige Konfigurationsdateien wie package.json sollten keine unsauberen √Ñnderungen enthalten.
- **Test Dokumentation (README)**: Das severin/README.md muss die aktuelle Struktur und Nutzungsanweisungen enthalten.

### 1-setup: Content Registry

### Severin Engine Health
- **Engine Presence**: Die Engine muss als 'severin/engine' im Workspace vorhanden sein (Symlink oder Submodule).
- **Engine Versioning**: Die Engine-Version in lib/severin.rb muss dem Semantic Versioning folgen.
- **Engine Integrity**: Wichtige Engine-Dateien m√ºssen vorhanden sein.

### Umgebung & Abh√§ngigkeiten
- **Environment Datei**: Eine lokale .env Datei muss existieren, basierend auf .env.example.
- **Erforderliche Umgebungsvariablen**: Wichtige Services (API, Achievements, SSO, Web) m√ºssen ihre Ports in der .env definiert haben.
- **Node Module**: Alle Abh√§ngigkeiten m√ºssen mit pnpm installiert sein.
- **Content √ñkosystem**: Das RPL Content-√ñkosystem muss in content/RPL vorhanden sein.

### Code-Konventionen & Port-Integrit√§t
- **Keine Hardcoded Ports in Ruby/JS**: Ports (3101, 3102, 3103, 5201) d√ºrfen nicht direkt im Code stehen. Nutze ENV Variablen.

